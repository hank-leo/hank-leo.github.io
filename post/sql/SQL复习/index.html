<!doctype html>
<html lang="zh-CN">
<head>

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>SQL复习 | Hank&#39;s Blog</title>
    <meta property="og:title" content="SQL复习 - Hank&#39;s Blog">
    <meta property="og:type" content="article">
        
    <meta property="article:published_time" content='2020-08-26T00:00:00&#43;08:00'>
        
        
    <meta property="article:modified_time" content='2020-08-26T00:00:00&#43;08:00'>
        
    <meta name="Keywords" content="python,sql,go,">
    <meta name="description" content="SQL复习">
        
    <meta name="author" content="Hank">
    <meta property="og:url" content="https://hank-leo.github.io/post/sql/SQL%E5%A4%8D%E4%B9%A0/">
    <link rel="shortcut icon" href="/favicon.ico" type="image/x-icon">

    <link rel="stylesheet" href='/css/normalize.css'>
    <link rel="stylesheet" href='/css/style.css'>
    <script type="text/javascript" src="//cdn.bootcdn.net/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

    
    
    
        <link href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css" rel="stylesheet">
    
    
    
    
        <link rel="stylesheet" href='/css/douban.css'>
    
        <link rel="stylesheet" href='/css/other.css'>
    
</head>


<body>
    <header id="header" class="clearfix">
    <div class="container">
        <div class="col-group">
            <div class="site-name ">
                
                    <a id="logo" href="https://hank-leo.github.io">
                        Hank&#39;s Blog
                    </a>
                
                <p class="description">专注于爬虫、数据分析与挖掘,涉及python、sql、go、js</p>
            </div>
            <div>
                <nav id="nav-menu" class="clearfix">
                    <a class="current" href="https://hank-leo.github.io">首页</a>
                    
                    <a  href="https://hank-leo.github.io/post/" title="归档">归档</a>
                    
                    <a  href="https://hank-leo.github.io/tags/" title="标签">标签</a>
                    
                    <a  href="https://hank-leo.github.io/categories/" title="分类">分类</a>
                    
                </nav>
            </div>
        </div>
    </div>
</header>

    <div id="body">
        <div class="container">
            <div class="col-group">

                <div class="col-8" id="main">
                    
<div class="res-cons">
    <style type="text/css">
    .post-toc {
        position: fixed;
        width: 200px;
        margin-left: -210px;
        padding: 5px 10px;
        font-family: Athelas, STHeiti, Microsoft Yahei, serif;
        font-size: 12px;
        border: 1px solid rgba(0, 0, 0, .07);
        border-radius: 5px;
        background-color: rgba(255, 255, 255, 0.98);
        background-clip: padding-box;
        -webkit-box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        box-shadow: 1px 1px 2px rgba(0, 0, 0, .125);
        word-wrap: break-word;
        white-space: nowrap;
        -webkit-box-sizing: border-box;
        box-sizing: border-box;
        z-index: 999;
        cursor: pointer;
        max-height: 70%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .post-toc .post-toc-title {
        width: 100%;
        margin: 0 auto;
        font-size: 20px;
        font-weight: 400;
        text-transform: uppercase;
        text-align: center;
    }

    .post-toc .post-toc-content {
        font-size: 15px;
    }

    .post-toc .post-toc-content>nav>ul {
        margin: 10px 0;
    }

    .post-toc .post-toc-content ul {
        padding-left: 20px;
        list-style: square;
        margin: 0.5em;
        line-height: 1.8em;
    }

    .post-toc .post-toc-content ul ul {
        padding-left: 15px;
        display: none;
    }

    @media print,
    screen and (max-width:1057px) {
        .post-toc {
            display: none;
        }
    }
</style>
<div class="post-toc" style="position: absolute; top: 188px;">
    <h4 class="post-toc-title">目录</h4>
    <div class="post-toc-content">
        <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#一复习前的准备">一:复习前的准备</a></li>
        <li><a href="#二基础知识">二:基础知识:</a></li>
        <li><a href="#综合练习">综合练习</a></li>
        <li><a href="#三查询知识">三、查询知识</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>
<script type="text/javascript">
    $(document).ready(function () {
        var postToc = $(".post-toc");
        if (postToc.length) {
            var leftPos = $("#main").offset().left;
            if(leftPos<220){
                postToc.css({"width":leftPos-10,"margin-left":(0-leftPos)})
            }

            var t = postToc.offset().top - 20,
                a = {
                    start: {
                        position: "absolute",
                        top: t
                    },
                    process: {
                        position: "fixed",
                        top: 20
                    },
                };
            $(window).scroll(function () {
                var e = $(window).scrollTop();
                e < t ? postToc.css(a.start) : postToc.css(a.process)
            })
        }
    })
</script>
    <article class="post">
        <header>
            <h1 class="post-title">SQL复习</h1>
        </header>
        <date class="post-meta meta-date">
            2020年8月26日
        </date>
        
        <div class="post-meta">
            <span>|</span>
            
            <span class="meta-category"><a href='https://hank-leo.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0'>数据库学习</a></span>
            
        </div>
        
        
        <div class="post-meta">
            <span id="busuanzi_container_page_pv">|<span id="busuanzi_value_page_pv"></span><span>
                    阅读</span></span>
        </div>
        
        
        <div class="post-content">
            <h3 id="一复习前的准备">一:复习前的准备</h3>
<p>1:确认你已安装wamp</p>
<p>2:确认你已安装ecshop,并且ecshop的数据库名为shop</p>
<h3 id="二基础知识">二:基础知识:</h3>
<p>1.数据库的连接
mysql -u -p -h
-u 用户名
-p 密码
-h host主机</p>
<p>2:库级知识
2.1 显示数据库: show databases;
2.2 选择数据库: use dbname;
2.3 创建数据库: create database dbname charset utf8;
2.3 删除数据库: drop database dbname;</p>
<p>3: 表级操作:</p>
<p>3.1 显示库下面的表
<code>show tables;</code></p>
<p>3.2 查看表的结构:
<code>desc tableName;</code></p>
<p>3.3 查看表的创建过程:
<code>show create table  tableName;</code></p>
<p>3.4 创建表:</p>
<pre><code>create table tbName (
列名称1　列类型　[列参数]　[not null default ],
....列2...
....
列名称N　列类型　[列参数]　[not null default ]
)engine myisam/innodb charset utf8/gbk
</code></pre><p>3.4的例子:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">create</span> <span style="color:#000;font-weight:bold">table</span> <span style="color:#000;font-weight:bold">user</span> (
    id <span style="color:#0086b3">int</span> auto_increment,
    name <span style="color:#0086b3">varchar</span>(<span style="color:#099">20</span>) <span style="color:#000;font-weight:bold">not</span> <span style="color:#000;font-weight:bold">null</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#d14">&#39;</span><span style="color:#d14">&#39;</span>,
    age tinyint unsigned <span style="color:#000;font-weight:bold">not</span> <span style="color:#000;font-weight:bold">null</span> <span style="color:#000;font-weight:bold">default</span> <span style="color:#099">0</span>,
   <span style="color:#000;font-weight:bold">index</span> id (id)
   )engine<span style="color:#000;font-weight:bold">=</span>innodb charset<span style="color:#000;font-weight:bold">=</span>utf8;
</code></pre></td></tr></table>
</div>
</div><p>注:innodb是表引擎,也可以是myisam或其他,但最常用的是myisam和innodb,
charset 常用的有utf8,gbk;</p>
<p>3.5 修改表</p>
<p><strong>3.5.1 增加列</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> tbName 
<span style="color:#000;font-weight:bold">add</span> <span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span><span style="color:#a61717;background-color:#e3d2d2">称</span><span style="color:#a61717;background-color:#e3d2d2">１</span>　<span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">类</span><span style="color:#a61717;background-color:#e3d2d2">型</span>　[<span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">参</span><span style="color:#a61717;background-color:#e3d2d2">数</span>]　[<span style="color:#000;font-weight:bold">not</span> <span style="color:#000;font-weight:bold">null</span> <span style="color:#000;font-weight:bold">default</span> ]　<span style="color:#000;font-weight:bold">#</span>(add之后的旧列名之后的语法和创建表时的列声明一样)
</code></pre></td></tr></table>
</div>
</div><p><strong>3.5.2 修改列</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> tbName
change <span style="color:#a61717;background-color:#e3d2d2">旧</span><span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span>  <span style="color:#a61717;background-color:#e3d2d2">新</span><span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span>  <span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">类</span><span style="color:#a61717;background-color:#e3d2d2">型</span>　[<span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">参</span><span style="color:#a61717;background-color:#e3d2d2">数</span>]　[<span style="color:#000;font-weight:bold">not</span> <span style="color:#000;font-weight:bold">null</span> <span style="color:#000;font-weight:bold">default</span> ]
(<span style="color:#a61717;background-color:#e3d2d2">注</span>:<span style="color:#a61717;background-color:#e3d2d2">旧</span><span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span><span style="color:#a61717;background-color:#e3d2d2">之</span><span style="color:#a61717;background-color:#e3d2d2">后</span><span style="color:#a61717;background-color:#e3d2d2">的</span><span style="color:#a61717;background-color:#e3d2d2">语</span><span style="color:#a61717;background-color:#e3d2d2">法</span><span style="color:#a61717;background-color:#e3d2d2">和</span><span style="color:#a61717;background-color:#e3d2d2">创</span><span style="color:#a61717;background-color:#e3d2d2">建</span><span style="color:#a61717;background-color:#e3d2d2">表</span><span style="color:#a61717;background-color:#e3d2d2">时</span><span style="color:#a61717;background-color:#e3d2d2">的</span><span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">声</span><span style="color:#a61717;background-color:#e3d2d2">明</span><span style="color:#a61717;background-color:#e3d2d2">一</span><span style="color:#a61717;background-color:#e3d2d2">样</span>)
</code></pre></td></tr></table>
</div>
</div><p><strong>3.5.3 减少列</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> tbName 
<span style="color:#000;font-weight:bold">drop</span> <span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span><span style="color:#a61717;background-color:#e3d2d2">称</span>;
</code></pre></td></tr></table>
</div>
</div><p><strong>3.5.4 增加主键</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> tbName <span style="color:#000;font-weight:bold">add</span> <span style="color:#000;font-weight:bold">primary</span> <span style="color:#000;font-weight:bold">key</span>(<span style="color:#a61717;background-color:#e3d2d2">主</span><span style="color:#a61717;background-color:#e3d2d2">键</span><span style="color:#a61717;background-color:#e3d2d2">所</span><span style="color:#a61717;background-color:#e3d2d2">在</span><span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span>);
<span style="color:#a61717;background-color:#e3d2d2">例</span>:<span style="color:#000;font-weight:bold">`</span><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> goods <span style="color:#000;font-weight:bold">add</span> <span style="color:#000;font-weight:bold">primary</span> <span style="color:#000;font-weight:bold">key</span>(id)<span style="color:#000;font-weight:bold">`</span>
<span style="color:#a61717;background-color:#e3d2d2">该</span><span style="color:#a61717;background-color:#e3d2d2">例</span><span style="color:#a61717;background-color:#e3d2d2">是</span><span style="color:#a61717;background-color:#e3d2d2">把</span><span style="color:#a61717;background-color:#e3d2d2">主</span><span style="color:#a61717;background-color:#e3d2d2">键</span><span style="color:#a61717;background-color:#e3d2d2">建</span><span style="color:#a61717;background-color:#e3d2d2">立</span><span style="color:#a61717;background-color:#e3d2d2">在</span>id列上
</code></pre></td></tr></table>
</div>
</div><p><strong>3.5.5 删除主键</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> tbName　<span style="color:#000;font-weight:bold">drop</span> <span style="color:#000;font-weight:bold">primary</span> <span style="color:#000;font-weight:bold">key</span>;
</code></pre></td></tr></table>
</div>
</div><p><strong>3.5.6 增加索引</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> tbName <span style="color:#000;font-weight:bold">add</span> [<span style="color:#000;font-weight:bold">unique</span><span style="color:#000;font-weight:bold">|</span>fulltext] <span style="color:#000;font-weight:bold">index</span> <span style="color:#a61717;background-color:#e3d2d2">索</span><span style="color:#a61717;background-color:#e3d2d2">引</span><span style="color:#a61717;background-color:#e3d2d2">名</span>(<span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span>);
</code></pre></td></tr></table>
</div>
</div><p><strong>3.5.7 删除索引</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">alter</span> <span style="color:#000;font-weight:bold">table</span> tbName <span style="color:#000;font-weight:bold">drop</span> <span style="color:#000;font-weight:bold">index</span> <span style="color:#a61717;background-color:#e3d2d2">索</span><span style="color:#a61717;background-color:#e3d2d2">引</span><span style="color:#a61717;background-color:#e3d2d2">名</span>;
</code></pre></td></tr></table>
</div>
</div><p><strong>3.5.8 清空表的数据</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">truncate</span> tableName;
</code></pre></td></tr></table>
</div>
</div><p>4:列类型讲解
列类型:
整型:<code>tinyint (0~255/-128~127) smallint (0~65535/-32768~32767) mediumint int bigint</code> (参考手册11.2)</p>
<p>参数解释:unsigned 无符号(不能为负)  zerofill 0填充  M 填充后的宽度</p>
<p>举例:tinyint unsigned;
tinyint(6) zerofill;</p>
<p>数值型
浮点型:float double
格式:float(M,D)  unsigned\zerofill;</p>
<p>字符型</p>
<pre><code>        char(m) 定长
        varchar(m)变长
        text

列          实存字符i        实占空间            利用率

char(M)      0&lt;=i&lt;=M            M                i/m&lt;=100%

varchar(M)    0&lt;=i&lt;=M          i+1,2             i/i+1/2&lt;100%
    

year       YYYY	范围:1901~2155. 可输入值2位和4位(如98,2012)
日期时间类型   date       YYYY-MM-DD 如:2010-03-14
               time       HH:MM:SS	如:19:26:32
               datetime   YYYY-MM-DD  HH:MM:SS 如:2010-03-14 19:26:32
               timestamp  YYYY-MM-DD  HH:MM:SS 特性:不用赋值,该列会为自己赋当前的具体时间 
</code></pre><p>5:增删改查基本操作</p>
<p>5.1 插入数据</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">insert</span> <span style="color:#000;font-weight:bold">into</span> <span style="color:#a61717;background-color:#e3d2d2">表</span><span style="color:#a61717;background-color:#e3d2d2">名</span>(col1,col2,<span style="color:#a61717;background-color:#e3d2d2">…</span><span style="color:#a61717;background-color:#e3d2d2">…</span>) <span style="color:#000;font-weight:bold">values</span>(val1,val2<span style="color:#a61717;background-color:#e3d2d2">…</span><span style="color:#a61717;background-color:#e3d2d2">…</span>); <span style="color:#998;font-style:italic">-- 插入指定列
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">insert</span> <span style="color:#000;font-weight:bold">into</span> <span style="color:#a61717;background-color:#e3d2d2">表</span><span style="color:#a61717;background-color:#e3d2d2">名</span> <span style="color:#000;font-weight:bold">values</span> (,,,,); <span style="color:#998;font-style:italic">-- 插入所有列
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">insert</span> <span style="color:#000;font-weight:bold">into</span> <span style="color:#a61717;background-color:#e3d2d2">表</span><span style="color:#a61717;background-color:#e3d2d2">名</span> <span style="color:#000;font-weight:bold">values</span>	<span style="color:#998;font-style:italic">-- 一次插入多行 
</span><span style="color:#998;font-style:italic"></span>(val1,val2<span style="color:#a61717;background-color:#e3d2d2">…</span><span style="color:#a61717;background-color:#e3d2d2">…</span>),
(val1,val2<span style="color:#a61717;background-color:#e3d2d2">…</span><span style="color:#a61717;background-color:#e3d2d2">…</span>),
(val1,val2<span style="color:#a61717;background-color:#e3d2d2">…</span><span style="color:#a61717;background-color:#e3d2d2">…</span>);
</code></pre></td></tr></table>
</div>
</div><p>5.3修改数据</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">update</span> tablename 
<span style="color:#000;font-weight:bold">set</span> 
col1<span style="color:#000;font-weight:bold">=</span>newval1,  
col2<span style="color:#000;font-weight:bold">=</span>newval2,
...
...
colN<span style="color:#000;font-weight:bold">=</span>newvalN
<span style="color:#000;font-weight:bold">where</span> <span style="color:#a61717;background-color:#e3d2d2">条</span><span style="color:#a61717;background-color:#e3d2d2">件</span>;
</code></pre></td></tr></table>
</div>
</div><p>5.4，删除数据</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">delete</span> <span style="color:#000;font-weight:bold">from</span> tablenaeme <span style="color:#000;font-weight:bold">where</span> <span style="color:#a61717;background-color:#e3d2d2">条</span><span style="color:#a61717;background-color:#e3d2d2">件</span>;
</code></pre></td></tr></table>
</div>
</div><p>5.5，<code>select</code> 查询</p>
<p>（1）条件查询 <code>where</code>
a. 条件表达式的意义，表达式为真，则该行取出
b. 比较运算符  = ，!=，&lt; &gt; &lt;=  &gt;=
c. like , not like ('%&lsquo;匹配任意多个字符,'_&lsquo;匹配任意单个字符)
d. in , not in , between and
e. is null , is not null</p>
<p>（2）分组<code>group by</code>
一般要配合5个聚合函数使用:
max,min,sum,avg,count</p>
<p>（3）筛选<code>having</code></p>
<p>（4）排序<code>order by</code></p>
<p>（5）限制<code>limit</code></p>
<p>6:连接查询</p>
<p>6.1，左连接</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">.. <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> .. <span style="color:#000;font-weight:bold">on</span>
<span style="color:#000;font-weight:bold">table</span> A <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> <span style="color:#000;font-weight:bold">table</span> B <span style="color:#000;font-weight:bold">on</span> tableA.col1 <span style="color:#000;font-weight:bold">=</span> tableB.col2 ; 
</code></pre></td></tr></table>
</div>
</div><p>例句:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#a61717;background-color:#e3d2d2">列</span><span style="color:#a61717;background-color:#e3d2d2">名</span> <span style="color:#000;font-weight:bold">from</span> <span style="color:#000;font-weight:bold">table</span> A <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> <span style="color:#000;font-weight:bold">table</span> B <span style="color:#000;font-weight:bold">on</span> tableA.col1 <span style="color:#000;font-weight:bold">=</span> tableB.col2
</code></pre></td></tr></table>
</div>
</div><ol start="2">
<li>
<p>右链接:<code>right join</code></p>
</li>
<li>
<p>内连接:<code>inner join</code></p>
</li>
</ol>
<p>左右连接都是以在左边的表的数据为准,沿着左表查右表.
内连接是以两张表都有的共同部分数据为准,也就是左右连接的数据之交集.</p>
<p>7 子查询
where 型子查询:内层sql的返回值在where后作为条件表达式的一部分
例句:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> tableA <span style="color:#000;font-weight:bold">where</span> colA <span style="color:#000;font-weight:bold">=</span> (<span style="color:#000;font-weight:bold">select</span> colB <span style="color:#000;font-weight:bold">from</span> tableB <span style="color:#000;font-weight:bold">where</span> ...);
</code></pre></td></tr></table>
</div>
</div><p>from 型子查询:内层sql查询结果,作为一张表,供外层的sql语句再次查询
例句:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> (<span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> ...) <span style="color:#000;font-weight:bold">as</span> tableName <span style="color:#000;font-weight:bold">where</span> ....
</code></pre></td></tr></table>
</div>
</div><p>8: 字符集
客服端sql编码 character_set_client
服务器转化后的sql编码 character_set_connection
服务器返回给客户端的结果集编码     character_set_results
快速把以上3个变量设为相同值: set names 字符集</p>
<p>存储引擎 engine=1\2
1 Myisam  速度快 不支持事务 回滚
2 Innodb  速度慢 支持事务,回滚</p>
<p>①开启事务<code>start transaction</code>
②运行sql;
③提交,同时生效\回滚 commit\rollback</p>
<p>触发器 trigger
监视地点:表
监视行为:增 删 改
触发时间:after\before
触发事件:增 删 改</p>
<p>创建触发器语法</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">create</span> <span style="color:#000;font-weight:bold">trigger</span> tgName
<span style="color:#000;font-weight:bold">after</span><span style="color:#000;font-weight:bold">/</span><span style="color:#000;font-weight:bold">before</span> <span style="color:#000;font-weight:bold">insert</span><span style="color:#000;font-weight:bold">/</span><span style="color:#000;font-weight:bold">delete</span><span style="color:#000;font-weight:bold">/</span><span style="color:#000;font-weight:bold">update</span> 
<span style="color:#000;font-weight:bold">on</span> tableName
<span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">each</span> <span style="color:#000;font-weight:bold">row</span>
<span style="color:#000;font-weight:bold">sql</span>; <span style="color:#998;font-style:italic">-- 触发语句
</span></code></pre></td></tr></table>
</div>
</div><p>删除触发器:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">drop</span> <span style="color:#000;font-weight:bold">trigger</span> tgName;
</code></pre></td></tr></table>
</div>
</div><p>索引
提高查询速度,但是降低了增删改的速度,所以使用索引时,要综合考虑.
索引不是越多越好,一般我们在常出现于条件表达式中的列加索引.
值越分散的列，索引的效果越好</p>
<p>索引类型</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">primary</span> key主键索引
<span style="color:#000;font-weight:bold">index</span> <span style="color:#a61717;background-color:#e3d2d2">普</span><span style="color:#a61717;background-color:#e3d2d2">通</span><span style="color:#a61717;background-color:#e3d2d2">索</span><span style="color:#a61717;background-color:#e3d2d2">引</span>
<span style="color:#000;font-weight:bold">unique</span> <span style="color:#000;font-weight:bold">index</span> <span style="color:#a61717;background-color:#e3d2d2">唯</span><span style="color:#a61717;background-color:#e3d2d2">一</span><span style="color:#a61717;background-color:#e3d2d2">性</span><span style="color:#a61717;background-color:#e3d2d2">索</span><span style="color:#a61717;background-color:#e3d2d2">引</span>
fulltext <span style="color:#000;font-weight:bold">index</span> <span style="color:#a61717;background-color:#e3d2d2">全</span><span style="color:#a61717;background-color:#e3d2d2">文</span><span style="color:#a61717;background-color:#e3d2d2">索</span><span style="color:#a61717;background-color:#e3d2d2">引</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="综合练习">综合练习</h3>
<p>连接上数据库服务器
创建一个gbk编码的数据库
建立商品表和栏目表,字段如下:</p>
<p>商品表:goods</p>
<pre><code>goods_id　--主键,
goods_name -- 商品名称
cat_id  -- 栏目id
brand_id -- 品牌id
goods_sn -- 货号
goods_number -- 库存量
shop_price  -- 价格
goods_desc　--商品详细描述
</code></pre><p>栏目表:category</p>
<pre><code>cat_id --主键 
cat_name -- 栏目名称
parent_id -- 栏目的父id
</code></pre><p>建表完成后,作以下操作:
删除goods表的goods_desc 字段,及货号字段
并增加字段:click_count  &ndash; 点击量</p>
<p>在goods_name列上加唯一性索引
在shop_price列上加普通索引
在clcik_count列上加普通索引
删除click_count列上的索引</p>
<p>对goods表插入以下数据:</p>
<pre><code>+----------+------------------------------+--------+----------+-----------+--------------+------------+-------------+
| goods_id | goods_name                   | cat_id | brand_id | goods_sn  | goods_number | shop_price | click_count |
+----------+------------------------------+--------+----------+-----------+--------------+------------+-------------+
|        1 | KD876                        |      4 |        8 | ECS000000 |           10 |    1388.00 |           7 |
|        4 | 诺基亚N85原装充电器          |      8 |        1 | ECS000004 |           17 |      58.00 |           0 |
|        3 | 诺基亚原装5800耳机           |      8 |        1 | ECS000002 |           24 |      68.00 |           3 |
|        5 | 索爱原装M2卡读卡器           |     11 |        7 | ECS000005 |            8 |      20.00 |           3 |
|        6 | 胜创KINGMAX内存卡            |     11 |        0 | ECS000006 |           15 |      42.00 |           0 |
|        7 | 诺基亚N85原装立体声耳机HS-82 |      8 |        1 | ECS000007 |           20 |     100.00 |           0 |
|        8 | 飞利浦9@9v                   |      3 |        4 | ECS000008 |           17 |     399.00 |           9 |
|        9 | 诺基亚E66                    |      3 |        1 | ECS000009 |           13 |    2298.00 |          20 |
|       10 | 索爱C702c                    |      3 |        7 | ECS000010 |            7 |    1328.00 |          11 |
|       11 | 索爱C702c                    |      3 |        7 | ECS000011 |            1 |    1300.00 |           0 |
|       12 | 摩托罗拉A810                 |      3 |        2 | ECS000012 |            8 |     983.00 |          14 |
|       13 | 诺基亚5320 XpressMusic       |      3 |        1 | ECS000013 |            8 |    1311.00 |          13 |
|       14 | 诺基亚5800XM                 |      4 |        1 | ECS000014 |            4 |    2625.00 |           6 |
|       15 | 摩托罗拉A810                 |      3 |        2 | ECS000015 |            3 |     788.00 |           8 |
|       16 | 恒基伟业G101                 |      2 |       11 | ECS000016 |            0 |     823.33 |           3 |
|       17 | 夏新N7                       |      3 |        5 | ECS000017 |            1 |    2300.00 |           2 |
|       18 | 夏新T5                       |      4 |        5 | ECS000018 |            1 |    2878.00 |           0 |
|       19 | 三星SGH-F258                 |      3 |        6 | ECS000019 |            0 |     858.00 |           7 |
|       20 | 三星BC01                     |      3 |        6 | ECS000020 |           13 |     280.00 |          14 |
|       21 | 金立 A30                     |      3 |       10 | ECS000021 |           40 |    2000.00 |           4 |
|       22 | 多普达Touch HD               |      3 |        3 | ECS000022 |            0 |    5999.00 |          15 |
|       23 | 诺基亚N96                    |      5 |        1 | ECS000023 |            8 |    3700.00 |          17 |
|       24 | P806                         |      3 |        9 | ECS000024 |          148 |    2000.00 |          36 |
|       25 | 小灵通/固话50元充值卡        |     13 |        0 | ECS000025 |            2 |      48.00 |           0 |
|       26 | 小灵通/固话20元充值卡        |     13 |        0 | ECS000026 |            2 |      19.00 |           0 |
|       27 | 联通100元充值卡              |     15 |        0 | ECS000027 |            2 |      95.00 |           0 |
|       28 | 联通50元充值卡               |     15 |        0 | ECS000028 |            0 |      45.00 |           0 |
|       29 | 移动100元充值卡              |     14 |        0 | ECS000029 |            0 |      90.00 |           0 |
|       30 | 移动20元充值卡               |     14 |        0 | ECS000030 |            9 |      18.00 |           1 |
|       31 | 摩托罗拉E8                   |      3 |        2 | ECS000031 |            1 |    1337.00 |           5 |
|       32 | 诺基亚N85                    |      3 |        1 | ECS000032 |            1 |    3010.00 |           9 |
+----------+------------------------------+--------+----------+-----------+--------------+------------+-------------+
</code></pre><h3 id="三查询知识">三、查询知识</h3>
<p>注:以下查询基于ecshop网站的商品表(ecs_goods)
在练习时可以只取部分列,方便查看.</p>
<p>1: 基础查询 where的练习:</p>
<p>查出满足以下条件的商品
1.1:主键为32的商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,shop_price 
<span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> goods_id<span style="color:#000;font-weight:bold">=</span><span style="color:#099">32</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.2:不属第3栏目的所有商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price  <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> cat_id<span style="color:#000;font-weight:bold">!</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">3</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.3:本店价格高于3000元的商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price  <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> shop_price <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">3000</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.4:本店价格低于或等于100元的商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">where</span> shop_price <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">100</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.5:取出第4栏目或第11栏目的商品(不许用or)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> cat_id <span style="color:#000;font-weight:bold">in</span> (<span style="color:#099">4</span>,<span style="color:#099">11</span>);
</code></pre></td></tr></table>
</div>
</div><p>1.6:取出100&lt;=价格&lt;=500的商品(不许用and)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price  <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> shop_price <span style="color:#000;font-weight:bold">between</span> <span style="color:#099">100</span> <span style="color:#000;font-weight:bold">and</span> <span style="color:#099">500</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.7:取出不属于第3栏目且不属于第11栏目的商品(and,或not in分别实现)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> cat_id<span style="color:#000;font-weight:bold">!</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">and</span> cat_id<span style="color:#000;font-weight:bold">!</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">11</span>;
<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">或</span><span style="color:#a61717;background-color:#e3d2d2">者</span>
<span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> cat_id <span style="color:#000;font-weight:bold">not</span> <span style="color:#000;font-weight:bold">in</span> (<span style="color:#099">3</span>,<span style="color:#099">11</span>);
</code></pre></td></tr></table>
</div>
</div><p>1.8:取出价格大于100且小于300,或者大于4000且小于5000的商品()</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price  <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> shop_price<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">100</span> <span style="color:#000;font-weight:bold">and</span> shop_price <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">300</span> <span style="color:#000;font-weight:bold">or</span> shop_price <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">4000</span> <span style="color:#000;font-weight:bold">and</span> shop_price <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">5000</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.9:取出第3个栏目下面价格&lt;1000或&gt;3000,并且点击量&gt;5的系列商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price,click_count <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> cat_id<span style="color:#000;font-weight:bold">=</span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">and</span> (shop_price <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">1000</span> <span style="color:#000;font-weight:bold">or</span> shop_price<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">3000</span>) <span style="color:#000;font-weight:bold">and</span> click_count<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">5</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.10:取出第1个栏目下面的商品(注意:1栏目下面没商品,但其子栏目下有)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price,click_count <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> cat_id <span style="color:#000;font-weight:bold">in</span> (<span style="color:#099">2</span>,<span style="color:#099">3</span>,<span style="color:#099">4</span>,<span style="color:#099">5</span>);
</code></pre></td></tr></table>
</div>
</div><p>1.11:取出名字以&quot;诺基亚&quot;开头的商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> goods_name <span style="color:#000;font-weight:bold">like</span> <span style="color:#d14">&#39;</span><span style="color:#d14">诺基亚%</span><span style="color:#d14">&#39;</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.12:取出名字为&quot;诺基亚Nxx&quot;的手机</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods  
<span style="color:#000;font-weight:bold">where</span> goods_name <span style="color:#000;font-weight:bold">like</span> <span style="color:#d14">&#39;</span><span style="color:#d14">诺基亚N__</span><span style="color:#d14">&#39;</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.13:取出名字不以&quot;诺基亚&quot;开头的商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goos
<span style="color:#000;font-weight:bold">where</span> goods_name <span style="color:#000;font-weight:bold">not</span> <span style="color:#000;font-weight:bold">like</span> <span style="color:#d14">&#39;</span><span style="color:#d14">诺基亚%</span><span style="color:#d14">&#39;</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.14:取出第3个栏目下面价格在1000到3000之间,并且点击量&gt;5 &ldquo;诺基亚&quot;开头的系列商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price  <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> cat_id<span style="color:#000;font-weight:bold">=</span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">and</span> shop_price<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">1000</span> <span style="color:#000;font-weight:bold">and</span> shop_price <span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">3000</span> <span style="color:#000;font-weight:bold">and</span> click_count<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">5</span> <span style="color:#000;font-weight:bold">and</span> goods_name <span style="color:#000;font-weight:bold">like</span> <span style="color:#d14">&#39;</span><span style="color:#d14">诺基亚%</span><span style="color:#d14">&#39;</span>;
<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">或</span><span style="color:#a61717;background-color:#e3d2d2">者</span>
<span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price  <span style="color:#000;font-weight:bold">from</span> ecs_goods 
<span style="color:#000;font-weight:bold">where</span> shop_price <span style="color:#000;font-weight:bold">between</span> <span style="color:#099">1000</span> <span style="color:#000;font-weight:bold">and</span> <span style="color:#099">3000</span> <span style="color:#000;font-weight:bold">and</span> cat_id<span style="color:#000;font-weight:bold">=</span><span style="color:#099">3</span>  <span style="color:#000;font-weight:bold">and</span> click_count<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">5</span> <span style="color:#000;font-weight:bold">and</span> goods_name <span style="color:#000;font-weight:bold">like</span> <span style="color:#d14">&#39;</span><span style="color:#d14">诺基亚%</span><span style="color:#d14">&#39;</span>;
</code></pre></td></tr></table>
</div>
</div><p>1.15 一道面试题
有如下表和数组
把num值处于[20,29]之间,改为20
num值处于[30,39]之间的,改为30</p>
<p>mian表</p>
<pre><code>+------+
| num  |
+------+
|    3 |
|   12 |
|   15 |
|   25 |
|   23 |
|   29 |
|   34 |
|   37 |
|   32 |
|   45 |
|   48 |
|   52 |
+------+
</code></pre><p>1.16 练习题:
把good表中商品名为'诺基亚xxxx'的商品,改为'HTCxxxx&rsquo;,
提示:大胆的把列看成变量,参与运算,甚至调用函数来处理.</p>
<pre><code>substring(),concat()
</code></pre><p>2 分组查询group:</p>
<p>2.1:查出最贵的商品的价格</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">max</span>(shop_price) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>2.2:查出最大(最新)的商品编号</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">max</span>(goods_id) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>2.3:查出最便宜的商品的价格</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">min</span>(shop_price) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>2.4:查出最旧(最小)的商品编号</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">min</span>(goods_id) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>2.5:查询该店所有商品的库存总量</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">sum</span>(goods_number) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>2.6:查询所有商品的平均价</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">avg</span>(shop_price) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>2.7:查询该店一共有多少种商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">count</span>(<span style="color:#000;font-weight:bold">*</span>) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>2.8:查询每个栏目下面
最贵商品价格
最低商品价格
商品平均价格
商品库存量
商品种类
提示:(5个聚合函数,sum,avg,max,min,count与group综合运用)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> cat_id,<span style="color:#000;font-weight:bold">max</span>(shop_price) <span style="color:#000;font-weight:bold">from</span> ecs_goods  <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> cat_id;
</code></pre></td></tr></table>
</div>
</div><p>3 having与group综合运用查询:</p>
<p>3.1:查询该店的商品比市场价所节省的价格</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,market_price<span style="color:#000;font-weight:bold">-</span>shop_price <span style="color:#000;font-weight:bold">as</span> j 
<span style="color:#000;font-weight:bold">from</span> ecs_goods ;
</code></pre></td></tr></table>
</div>
</div><p>3.2:查询每个商品所积压的货款(提示:库存*单价)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,goods_number<span style="color:#000;font-weight:bold">*</span>shop_price  <span style="color:#000;font-weight:bold">from</span> ecs_goods
</code></pre></td></tr></table>
</div>
</div><p>3.3:查询该店积压的总货款</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">sum</span>(goods_number<span style="color:#000;font-weight:bold">*</span>shop_price) <span style="color:#000;font-weight:bold">from</span> ecs_goods;
</code></pre></td></tr></table>
</div>
</div><p>3.4:查询该店每个栏目下面积压的货款</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> cat_id,<span style="color:#000;font-weight:bold">sum</span>(goods_number<span style="color:#000;font-weight:bold">*</span>shop_price) <span style="color:#000;font-weight:bold">as</span> k <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> cat_id;
</code></pre></td></tr></table>
</div>
</div><p>3.5:查询比市场价省钱200元以上的商品及该商品所省的钱(where和having分别实现)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,market_price<span style="color:#000;font-weight:bold">-</span>shop_price  <span style="color:#000;font-weight:bold">as</span> k <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">where</span> market_price<span style="color:#000;font-weight:bold">-</span>shop_price <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">200</span>;
<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">或</span><span style="color:#a61717;background-color:#e3d2d2">者</span>
<span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,market_price<span style="color:#000;font-weight:bold">-</span>shop_price  <span style="color:#000;font-weight:bold">as</span> k <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">having</span> k <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">200</span>;
</code></pre></td></tr></table>
</div>
</div><p>3.6:查询积压货款超过2W元的栏目,以及该栏目积压的货款</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> cat_id,<span style="color:#000;font-weight:bold">sum</span>(goods_number<span style="color:#000;font-weight:bold">*</span>shop_price) <span style="color:#000;font-weight:bold">as</span> k <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> cat_id
<span style="color:#000;font-weight:bold">having</span> k<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#099">20000</span>
</code></pre></td></tr></table>
</div>
</div><p>3.7:where-having-group综合练习题
有如下表及数据</p>
<pre><code>+------+---------+-------+
| name | subject | score |
+------+---------+-------+
| 张三 | 数学    |    90 |
| 张三 | 语文    |    50 |
| 张三 | 地理    |    40 |
| 李四 | 语文    |    55 |
| 李四 | 政治    |    45 |
| 王五 | 政治    |    30 |
+------+---------+-------+
</code></pre><p>要求:查询出2门及2门以上不及格者的平均成绩</p>
<p><strong>一种错误做法</strong></p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">count</span>(score<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">as</span> k,<span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name <span style="color:#000;font-weight:bold">having</span> k<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> k <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">60</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">50</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">count</span>(score<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">as</span> k,<span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> k <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">60</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">50</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">王</span><span style="color:#a61717;background-color:#e3d2d2">五</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">30</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">count</span>(score<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">as</span> k,<span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name <span style="color:#000;font-weight:bold">having</span> k<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> k <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">60</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">50</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">加</span><span style="color:#a61717;background-color:#e3d2d2">上</span><span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span><span style="color:#a61717;background-color:#e3d2d2">后</span><span style="color:#a61717;background-color:#e3d2d2">错</span><span style="color:#a61717;background-color:#e3d2d2">误</span><span style="color:#a61717;background-color:#e3d2d2">暴</span><span style="color:#a61717;background-color:#e3d2d2">露</span>
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">insert</span> <span style="color:#000;font-weight:bold">into</span> stu 
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">values</span> 
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> (<span style="color:#d14">&#39;</span><span style="color:#d14">赵六</span><span style="color:#d14">&#39;</span>,<span style="color:#d14">&#39;</span><span style="color:#d14">A</span><span style="color:#d14">&#39;</span>,<span style="color:#099">100</span>),
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> (<span style="color:#d14">&#39;</span><span style="color:#d14">赵六</span><span style="color:#d14">&#39;</span>,<span style="color:#d14">&#39;</span><span style="color:#d14">B</span><span style="color:#d14">&#39;</span>,<span style="color:#099">99</span>),
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> (<span style="color:#d14">&#39;</span><span style="color:#d14">赵六</span><span style="color:#d14">&#39;</span>,<span style="color:#d14">&#39;</span><span style="color:#d14">C</span><span style="color:#d14">&#39;</span>,<span style="color:#099">98</span>);
Query OK, <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">rows</span> affected (<span style="color:#099">0</span>.<span style="color:#099">05</span> sec)
Records: <span style="color:#099">3</span>  Duplicates: <span style="color:#099">0</span>  Warnings: <span style="color:#099">0</span>

<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">错</span><span style="color:#a61717;background-color:#e3d2d2">误</span><span style="color:#a61717;background-color:#e3d2d2">显</span><span style="color:#a61717;background-color:#e3d2d2">现</span>
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">count</span>(score<span style="color:#000;font-weight:bold">&lt;</span><span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">as</span> k,<span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name <span style="color:#000;font-weight:bold">having</span> k<span style="color:#000;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> k <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">60</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">50</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">99</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+---+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">正</span><span style="color:#a61717;background-color:#e3d2d2">确</span><span style="color:#a61717;background-color:#e3d2d2">思</span><span style="color:#a61717;background-color:#e3d2d2">路</span>,<span style="color:#a61717;background-color:#e3d2d2">先</span><span style="color:#a61717;background-color:#e3d2d2">查</span><span style="color:#a61717;background-color:#e3d2d2">看</span><span style="color:#a61717;background-color:#e3d2d2">每</span><span style="color:#a61717;background-color:#e3d2d2">个</span><span style="color:#a61717;background-color:#e3d2d2">人</span><span style="color:#a61717;background-color:#e3d2d2">的</span><span style="color:#a61717;background-color:#e3d2d2">平</span><span style="color:#a61717;background-color:#e3d2d2">均</span><span style="color:#a61717;background-color:#e3d2d2">成</span><span style="color:#a61717;background-color:#e3d2d2">绩</span>
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">60</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">50</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">王</span><span style="color:#a61717;background-color:#e3d2d2">五</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">30</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">99</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">4</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">#</span> <span style="color:#a61717;background-color:#e3d2d2">看</span><span style="color:#a61717;background-color:#e3d2d2">每</span><span style="color:#a61717;background-color:#e3d2d2">个</span><span style="color:#a61717;background-color:#e3d2d2">人</span><span style="color:#a61717;background-color:#e3d2d2">挂</span><span style="color:#a61717;background-color:#e3d2d2">科</span><span style="color:#a61717;background-color:#e3d2d2">情</span><span style="color:#a61717;background-color:#e3d2d2">况</span>
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,score <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">60</span> <span style="color:#000;font-weight:bold">from</span> stu;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> score <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">60</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">王</span><span style="color:#a61717;background-color:#e3d2d2">五</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span> <span style="color:#000;font-weight:bold">|</span>          <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">9</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">计</span><span style="color:#a61717;background-color:#e3d2d2">算</span><span style="color:#a61717;background-color:#e3d2d2">每</span><span style="color:#a61717;background-color:#e3d2d2">个</span><span style="color:#a61717;background-color:#e3d2d2">人</span><span style="color:#a61717;background-color:#e3d2d2">的</span><span style="color:#a61717;background-color:#e3d2d2">挂</span><span style="color:#a61717;background-color:#e3d2d2">科</span><span style="color:#a61717;background-color:#e3d2d2">科</span><span style="color:#a61717;background-color:#e3d2d2">目</span>
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">sum</span>(score <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+-----------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">sum</span>(score <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+-----------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">王</span><span style="color:#a61717;background-color:#e3d2d2">五</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+-----------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">4</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">同</span><span style="color:#a61717;background-color:#e3d2d2">时</span><span style="color:#a61717;background-color:#e3d2d2">计</span><span style="color:#a61717;background-color:#e3d2d2">算</span><span style="color:#a61717;background-color:#e3d2d2">每</span><span style="color:#a61717;background-color:#e3d2d2">人</span><span style="color:#a61717;background-color:#e3d2d2">的</span><span style="color:#a61717;background-color:#e3d2d2">平</span><span style="color:#a61717;background-color:#e3d2d2">均</span><span style="color:#a61717;background-color:#e3d2d2">分</span>
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">sum</span>(score <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">60</span>),<span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">as</span> pj <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+-----------------+---------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">sum</span>(score <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">|</span> pj      <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+-----------------+---------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">60</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">50</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">王</span><span style="color:#a61717;background-color:#e3d2d2">五</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">30</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">赵</span><span style="color:#a61717;background-color:#e3d2d2">六</span> <span style="color:#000;font-weight:bold">|</span>               <span style="color:#099">0</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">99</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+-----------------+---------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">4</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)

<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">利</span><span style="color:#a61717;background-color:#e3d2d2">用</span>having筛选挂科2门以上的.
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> name,<span style="color:#000;font-weight:bold">sum</span>(score <span style="color:#000;font-weight:bold">&lt;</span> <span style="color:#099">60</span>) <span style="color:#000;font-weight:bold">as</span> gk ,<span style="color:#000;font-weight:bold">avg</span>(score) <span style="color:#000;font-weight:bold">as</span> pj <span style="color:#000;font-weight:bold">from</span> stu <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> name <span style="color:#000;font-weight:bold">having</span> gk <span style="color:#000;font-weight:bold">&gt;</span><span style="color:#000;font-weight:bold">=</span><span style="color:#099">2</span>; 
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+---------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> name <span style="color:#000;font-weight:bold">|</span> gk   <span style="color:#000;font-weight:bold">|</span> pj      <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+---------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">张</span><span style="color:#a61717;background-color:#e3d2d2">三</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">60</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">李</span><span style="color:#a61717;background-color:#e3d2d2">四</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">50</span>.<span style="color:#099">0000</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+---------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">2</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)
</code></pre></td></tr></table>
</div>
</div><p>4:<code>order by</code>与<code>limit</code>查询
4.1:按价格由高到低排序</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">order</span> <span style="color:#000;font-weight:bold">by</span> shop_price <span style="color:#000;font-weight:bold">desc</span>;
</code></pre></td></tr></table>
</div>
</div><p>4.2:按发布时间由早到晚排序</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,add_time <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">order</span> <span style="color:#000;font-weight:bold">by</span> add_time;
</code></pre></td></tr></table>
</div>
</div><p>4.3:接栏目由低到高排序,栏目内部按价格由高到低排序</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods
<span style="color:#000;font-weight:bold">order</span> <span style="color:#000;font-weight:bold">by</span> cat_id ,shop_price <span style="color:#000;font-weight:bold">desc</span>;
</code></pre></td></tr></table>
</div>
</div><p>4.4:取出价格最高的前三名商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,shop_price <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">order</span> <span style="color:#000;font-weight:bold">by</span> shop_price <span style="color:#000;font-weight:bold">desc</span> <span style="color:#000;font-weight:bold">limit</span> <span style="color:#099">3</span>;
</code></pre></td></tr></table>
</div>
</div><p>4.5:取出点击量前三名到前5名的商品</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,click_count <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">order</span> <span style="color:#000;font-weight:bold">by</span> click_count <span style="color:#000;font-weight:bold">desc</span> <span style="color:#000;font-weight:bold">limit</span> <span style="color:#099">2</span>,<span style="color:#099">3</span>;
</code></pre></td></tr></table>
</div>
</div><p>5 连接查询</p>
<p>5.1:取出所有商品的商品名,栏目名,价格</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_name,cat_name,shop_price <span style="color:#000;font-weight:bold">from</span> 
ecs_goods <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> ecs_category
<span style="color:#000;font-weight:bold">on</span> ecs_goods.cat_id<span style="color:#000;font-weight:bold">=</span>ecs_category.cat_id;
</code></pre></td></tr></table>
</div>
</div><p>5.2:取出第4个栏目下的商品的商品名,栏目名,价格</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_name,cat_name,shop_price <span style="color:#000;font-weight:bold">from</span> 
ecs_goods <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> ecs_category
<span style="color:#000;font-weight:bold">on</span> ecs_goods.cat_id<span style="color:#000;font-weight:bold">=</span>ecs_category.cat_id
<span style="color:#000;font-weight:bold">where</span> ecs_goods.cat_id <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">4</span>;
</code></pre></td></tr></table>
</div>
</div><p>5.3:取出第4个栏目下的商品的商品名,栏目名,与品牌名</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_name,cat_name,brand_name <span style="color:#000;font-weight:bold">from</span> 
ecs_goods <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> ecs_category
<span style="color:#000;font-weight:bold">on</span> ecs_goods.cat_id<span style="color:#000;font-weight:bold">=</span>ecs_category.cat_id
<span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> ecs_brand 
<span style="color:#000;font-weight:bold">on</span> ecs_goods.brand_id<span style="color:#000;font-weight:bold">=</span>ecs_brand.brand_id
<span style="color:#000;font-weight:bold">where</span> ecs_goods.cat_id <span style="color:#000;font-weight:bold">=</span> <span style="color:#099">4</span>;
</code></pre></td></tr></table>
</div>
</div><p>5.4: 用友面试题</p>
<p>根据给出的表结构按要求写出SQL语句。</p>
<pre><code>Match 赛程表
字段名称	字段类型	描述
matchID	int	主键
hostTeamID	int	主队的ID
guestTeamID	int	客队的ID
matchResult	varchar(20)	比赛结果，如（2:0）
matchTime	date	比赛开始时间

Team 参赛队伍表
字段名称	字段类型	描述
teamID	int	主键
teamName	varchar(20)	队伍名称
</code></pre><p>Match的hostTeamID与guestTeamID都与Team中的teamID关联
查出 2006-6-1 到2006-7-1之间举行的所有比赛，并且用以下形式列出：
拜仁  2：0 不来梅 2006-6-21</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> m;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">-----+------+------+------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> mid <span style="color:#000;font-weight:bold">|</span> hid  <span style="color:#000;font-weight:bold">|</span> gid  <span style="color:#000;font-weight:bold">|</span> mres <span style="color:#000;font-weight:bold">|</span> matime     <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">-----+------+------+------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span>:<span style="color:#099">0</span>  <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">05</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">21</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">1</span>:<span style="color:#099">2</span>  <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">06</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">21</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span>:<span style="color:#099">5</span>  <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">06</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">25</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">4</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">3</span>:<span style="color:#099">2</span>  <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">07</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">21</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">-----+------+------+------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">4</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">9
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> t;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> tid  <span style="color:#000;font-weight:bold">|</span> tname    <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">国</span><span style="color:#a61717;background-color:#e3d2d2">安</span>     <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">申</span><span style="color:#a61717;background-color:#e3d2d2">花</span>     <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">公</span><span style="color:#a61717;background-color:#e3d2d2">益</span><span style="color:#a61717;background-color:#e3d2d2">联</span><span style="color:#a61717;background-color:#e3d2d2">队</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">3</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql">mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> hid,t1.tname <span style="color:#000;font-weight:bold">as</span> hname ,mres,gid,t2.tname <span style="color:#000;font-weight:bold">as</span> gname,matime
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">from</span> 
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> m <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> t <span style="color:#000;font-weight:bold">as</span> t1
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">on</span> m.hid <span style="color:#000;font-weight:bold">=</span> t1.tid
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">left</span> <span style="color:#000;font-weight:bold">join</span> t <span style="color:#000;font-weight:bold">as</span> t2
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">on</span> m.gid <span style="color:#000;font-weight:bold">=</span> t2.tid;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+------+------+----------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> hid  <span style="color:#000;font-weight:bold">|</span> hname    <span style="color:#000;font-weight:bold">|</span> mres <span style="color:#000;font-weight:bold">|</span> gid  <span style="color:#000;font-weight:bold">|</span> gname    <span style="color:#000;font-weight:bold">|</span> matime     <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+------+------+----------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">国</span><span style="color:#a61717;background-color:#e3d2d2">安</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span>:<span style="color:#099">0</span>  <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">申</span><span style="color:#a61717;background-color:#e3d2d2">花</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">05</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">21</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">申</span><span style="color:#a61717;background-color:#e3d2d2">花</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">1</span>:<span style="color:#099">2</span>  <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">公</span><span style="color:#a61717;background-color:#e3d2d2">益</span><span style="color:#a61717;background-color:#e3d2d2">联</span><span style="color:#a61717;background-color:#e3d2d2">队</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">06</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">21</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">3</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">公</span><span style="color:#a61717;background-color:#e3d2d2">益</span><span style="color:#a61717;background-color:#e3d2d2">联</span><span style="color:#a61717;background-color:#e3d2d2">队</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2</span>:<span style="color:#099">5</span>  <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">国</span><span style="color:#a61717;background-color:#e3d2d2">安</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">06</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">25</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">2</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">申</span><span style="color:#a61717;background-color:#e3d2d2">花</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">3</span>:<span style="color:#099">2</span>  <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">1</span> <span style="color:#000;font-weight:bold">|</span> <span style="color:#a61717;background-color:#e3d2d2">国</span><span style="color:#a61717;background-color:#e3d2d2">安</span>     <span style="color:#000;font-weight:bold">|</span> <span style="color:#099">2006</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">07</span><span style="color:#000;font-weight:bold">-</span><span style="color:#099">21</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+------+------+----------+------------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">4</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)
</code></pre></td></tr></table>
</div>
</div><p>6 union查询
6.1:把ecs_comment,ecs_feedback两个表中的数据,各取出4列,并把结果集union成一个结果集.</p>
<p>6.2:3期学员碰到的一道面试题</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">#</span>A表:
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> id   <span style="color:#000;font-weight:bold">|</span> num  <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> a    <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">5</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> b    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">c</span>    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">15</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> d    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span>

<span style="color:#000;font-weight:bold">#</span>B表:
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> id   <span style="color:#000;font-weight:bold">|</span> num  <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> b    <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">5</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">c</span>    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">15</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> d    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">20</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> e    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">99</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span>
<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">要</span><span style="color:#a61717;background-color:#e3d2d2">求</span><span style="color:#a61717;background-color:#e3d2d2">查</span><span style="color:#a61717;background-color:#e3d2d2">询</span><span style="color:#a61717;background-color:#e3d2d2">出</span><span style="color:#a61717;background-color:#e3d2d2">以</span><span style="color:#a61717;background-color:#e3d2d2">下</span><span style="color:#a61717;background-color:#e3d2d2">效</span><span style="color:#a61717;background-color:#e3d2d2">果</span>:
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> id   <span style="color:#000;font-weight:bold">|</span>    num   <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> a    <span style="color:#000;font-weight:bold">|</span>        <span style="color:#099">5</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> b    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">15</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">c</span>    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">30</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> d    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">30</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> e    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">99</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span>
<span style="color:#000;font-weight:bold">create</span> <span style="color:#000;font-weight:bold">table</span> a (
id <span style="color:#0086b3">char</span>(<span style="color:#099">1</span>),
num <span style="color:#0086b3">int</span>
)engine myisam charset utf8;

<span style="color:#000;font-weight:bold">insert</span> <span style="color:#000;font-weight:bold">into</span> a <span style="color:#000;font-weight:bold">values</span> (<span style="color:#d14">&#39;</span><span style="color:#d14">a</span><span style="color:#d14">&#39;</span>,<span style="color:#099">5</span>),(<span style="color:#d14">&#39;</span><span style="color:#d14">b</span><span style="color:#d14">&#39;</span>,<span style="color:#099">10</span>),(<span style="color:#d14">&#39;</span><span style="color:#d14">c</span><span style="color:#d14">&#39;</span>,<span style="color:#099">15</span>),(<span style="color:#d14">&#39;</span><span style="color:#d14">d</span><span style="color:#d14">&#39;</span>,<span style="color:#099">10</span>);

<span style="color:#000;font-weight:bold">create</span> <span style="color:#000;font-weight:bold">table</span> b (
id <span style="color:#0086b3">char</span>(<span style="color:#099">1</span>),
num <span style="color:#0086b3">int</span>
)engine myisam charset utf8;

<span style="color:#000;font-weight:bold">insert</span> <span style="color:#000;font-weight:bold">into</span> b <span style="color:#000;font-weight:bold">values</span> (<span style="color:#d14">&#39;</span><span style="color:#d14">b</span><span style="color:#d14">&#39;</span>,<span style="color:#099">5</span>),(<span style="color:#d14">&#39;</span><span style="color:#d14">c</span><span style="color:#d14">&#39;</span>,<span style="color:#099">15</span>),(<span style="color:#d14">&#39;</span><span style="color:#d14">d</span><span style="color:#d14">&#39;</span>,<span style="color:#099">20</span>),(<span style="color:#d14">&#39;</span><span style="color:#d14">e</span><span style="color:#d14">&#39;</span>,<span style="color:#099">99</span>);

mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">#</span> <span style="color:#a61717;background-color:#e3d2d2">合</span><span style="color:#a61717;background-color:#e3d2d2">并</span> ,<span style="color:#a61717;background-color:#e3d2d2">注</span><span style="color:#a61717;background-color:#e3d2d2">意</span>all的作用
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> ta 
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">union</span> <span style="color:#000;font-weight:bold">all</span>
    <span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> tb;
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> id   <span style="color:#000;font-weight:bold">|</span> num  <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> a    <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">5</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> b    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">c</span>    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">15</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> d    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">10</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> b    <span style="color:#000;font-weight:bold">|</span>    <span style="color:#099">5</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">c</span>    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">15</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> d    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">20</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> e    <span style="color:#000;font-weight:bold">|</span>   <span style="color:#099">99</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+------+
</span><span style="color:#998;font-style:italic"></span>
<span style="color:#000;font-weight:bold">#</span><span style="color:#a61717;background-color:#e3d2d2">参</span><span style="color:#a61717;background-color:#e3d2d2">考</span><span style="color:#a61717;background-color:#e3d2d2">答</span><span style="color:#a61717;background-color:#e3d2d2">案</span>:
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">#</span> <span style="color:#000;font-weight:bold">sum</span>,group求和
mysql<span style="color:#000;font-weight:bold">&gt;</span> <span style="color:#000;font-weight:bold">select</span> id,<span style="color:#000;font-weight:bold">sum</span>(num) <span style="color:#000;font-weight:bold">from</span> (<span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> ta <span style="color:#000;font-weight:bold">union</span> <span style="color:#000;font-weight:bold">all</span> <span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> tb) <span style="color:#000;font-weight:bold">as</span> tmp <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> id; 
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> id   <span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">sum</span>(num) <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#000;font-weight:bold">|</span> a    <span style="color:#000;font-weight:bold">|</span>        <span style="color:#099">5</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> b    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">15</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> <span style="color:#000;font-weight:bold">c</span>    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">30</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> d    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">30</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">|</span> e    <span style="color:#000;font-weight:bold">|</span>       <span style="color:#099">99</span> <span style="color:#000;font-weight:bold">|</span>
<span style="color:#000;font-weight:bold">+</span><span style="color:#998;font-style:italic">------+----------+
</span><span style="color:#998;font-style:italic"></span><span style="color:#099">5</span> <span style="color:#000;font-weight:bold">rows</span> <span style="color:#000;font-weight:bold">in</span> <span style="color:#000;font-weight:bold">set</span> (<span style="color:#099">0</span>.<span style="color:#099">00</span> sec)
</code></pre></td></tr></table>
</div>
</div><p>7: 子查询</p>
<p>7.1:查询出最新一行商品(以商品编号最大为最新,用子查询实现)</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name <span style="color:#000;font-weight:bold">from</span> 
ecs_goods <span style="color:#000;font-weight:bold">where</span> goods_id <span style="color:#000;font-weight:bold">=</span> (<span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">max</span>(goods_id) <span style="color:#000;font-weight:bold">from</span> ecs_goods);
</code></pre></td></tr></table>
</div>
</div><p>7.2:查询出编号为19的商品的栏目名称(用左连接查询和子查询分别)</p>
<p>7.3:用where型子查询把ecs_goods表中的每个栏目下面最新的商品取出来</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> goods_id,goods_name,cat_id <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">where</span> goods_id <span style="color:#000;font-weight:bold">in</span> (<span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">max</span>(goods_id) <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> cat_id);
</code></pre></td></tr></table>
</div>
</div><p>7.4:用from型子查询把ecs_goods表中的每个栏目下面最新的商品取出来</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> (<span style="color:#000;font-weight:bold">select</span> goods_id,cat_id,goods_name <span style="color:#000;font-weight:bold">from</span> ecs_goods <span style="color:#000;font-weight:bold">order</span> <span style="color:#000;font-weight:bold">by</span> goods_id <span style="color:#000;font-weight:bold">desc</span>) <span style="color:#000;font-weight:bold">as</span> t <span style="color:#000;font-weight:bold">group</span> <span style="color:#000;font-weight:bold">by</span> cat_id;
</code></pre></td></tr></table>
</div>
</div><p>7.5 用exists型子查询,查出所有有商品的栏目</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">2
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"><span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> category
<span style="color:#000;font-weight:bold">where</span> <span style="color:#000;font-weight:bold">exists</span> (<span style="color:#000;font-weight:bold">select</span> <span style="color:#000;font-weight:bold">*</span> <span style="color:#000;font-weight:bold">from</span> goods <span style="color:#000;font-weight:bold">where</span> goods.cat_id<span style="color:#000;font-weight:bold">=</span>category.cat_id);
</code></pre></td></tr></table>
</div>
</div><p>创建触发器:</p>
<div class="highlight"><div style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4">
<table style="border-spacing:0;padding:0;margin:0;border:0;width:auto;overflow:auto;display:block;"><tr><td style="vertical-align:top;padding:0;margin:0;border:0;">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14
</span><span style="margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15
</span></code></pre></td>
<td style="vertical-align:top;padding:0;margin:0;border:0;;width:100%">
<pre style="background-color:#fff;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-sql" data-lang="sql"> <span style="color:#000;font-weight:bold">CREATE</span>  <span style="color:#000;font-weight:bold">trigger</span> tg2
<span style="color:#000;font-weight:bold">after</span> <span style="color:#000;font-weight:bold">insert</span> <span style="color:#000;font-weight:bold">on</span> ord
<span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">each</span> <span style="color:#000;font-weight:bold">row</span>
<span style="color:#000;font-weight:bold">update</span> goods <span style="color:#000;font-weight:bold">set</span> goods_number<span style="color:#000;font-weight:bold">=</span>goods_number<span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">new</span>.num <span style="color:#000;font-weight:bold">where</span> id<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">new</span>.gid

<span style="color:#000;font-weight:bold">CREATE</span> <span style="color:#000;font-weight:bold">trigger</span> tg3
<span style="color:#000;font-weight:bold">after</span> <span style="color:#000;font-weight:bold">delete</span> <span style="color:#000;font-weight:bold">on</span> ord
<span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">each</span> <span style="color:#000;font-weight:bold">row</span>
<span style="color:#000;font-weight:bold">update</span> goods <span style="color:#000;font-weight:bold">set</span> goods_number<span style="color:#000;font-weight:bold">=</span>good_number<span style="color:#000;font-weight:bold">+</span><span style="color:#000;font-weight:bold">old</span>.num <span style="color:#000;font-weight:bold">where</span> id<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">old</span>.gid


<span style="color:#000;font-weight:bold">CREATE</span>  <span style="color:#000;font-weight:bold">trigger</span> tg4
<span style="color:#000;font-weight:bold">after</span> <span style="color:#000;font-weight:bold">update</span> <span style="color:#000;font-weight:bold">on</span> ord
<span style="color:#000;font-weight:bold">for</span> <span style="color:#000;font-weight:bold">each</span> <span style="color:#000;font-weight:bold">row</span>
<span style="color:#000;font-weight:bold">update</span> goods <span style="color:#000;font-weight:bold">set</span> goods_number<span style="color:#000;font-weight:bold">=</span>goods_number<span style="color:#000;font-weight:bold">+</span><span style="color:#000;font-weight:bold">old</span>.num<span style="color:#000;font-weight:bold">-</span><span style="color:#000;font-weight:bold">new</span>.num <span style="color:#000;font-weight:bold">where</span> id<span style="color:#000;font-weight:bold">=</span><span style="color:#000;font-weight:bold">old</span>.gid
</code></pre></td></tr></table>
</div>
</div>
        </div>

        


        





        <div class="post-meta meta-tags">
            
            没有标签
            
        </div>
    </article>
    
    

    
    
    <div class="post bg-white">
      <script src="https://utteranc.es/client.js"
            repo= "hank-leo/hugoblogtalks"
            issue-term="title"
            theme="github-light"
            crossorigin="anonymous"
            async>
      </script>
    </div>
    
</div>

                    <footer id="footer">
    <div>
        &copy; 2020 <a href="https://hank-leo.github.io">Hank&#39;s Blog By Hank</a>
        
    </div>
    <br />
    
</footer>


    
    <script type="text/javascript">
        window.MathJax = {
            tex2jax: {
                inlineMath: [['$', '$']],
                processEscapes: true
                }
            };
    </script>
    <script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-MML-AM_CHTML' async></script><script src="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>

<a id="rocket" href="#top"></a>
<script type="text/javascript" src='/js/totop.js?v=0.0.0' async=""></script>



    <script type="text/javascript" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script>




    <script src='/js/douban.js'></script>

                </div>

                <div id="secondary">
    <section class="widget">
        <form id="search" action='https://hank-leo.github.io/search/' method="get" accept-charset="utf-8" target="_blank" _lpchecked="1">
      
      <input type="text" name="q" maxlength="20" placeholder="Search">
      <input type="hidden" name="sitesearch" value="https://hank-leo.github.io">
      <button type="submit" class="submit icon-search"></button>
</form>
    </section>
    
    <section class="widget">
        <h3 class="widget-title">最近文章</h3>
<ul class="widget-list">
    
    <li>
        <a href="https://hank-leo.github.io/post/go/Docker%E5%AD%A6%E4%B9%A0%E4%B8%8E%E4%BD%BF%E7%94%A8/" title="Docker学习与使用">Docker学习与使用</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/python/GUI-Tkinter%E7%99%BB%E9%99%86/" title="GUI Tkinter登陆">GUI Tkinter登陆</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/analysis/PyEcharts%E5%8F%AF%E8%A7%86%E5%8C%96%E5%85%A5%E9%97%A8/" title="PyEcharts可视化入门">PyEcharts可视化入门</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/analysis/Tableau%E7%9A%84%E4%B8%80%E4%BA%9B%E7%AE%80%E5%8D%95%E6%A1%88%E4%BE%8B/" title="Tableau的一些简单案例">Tableau的一些简单案例</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/go/Go%E7%88%AC%E8%99%AB/" title="Go爬虫">Go爬虫</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/sql/%E6%95%B0%E6%8D%AE%E5%BA%93%E9%9D%A2%E8%AF%95%E7%9F%A5%E8%AF%86%E7%82%B9/" title="数据库面试知识点">数据库面试知识点</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/sql/LeetCode-SQL%E5%88%B7%E9%A2%98%E8%AE%B0%E5%BD%95/" title="LeetCode SQL刷题记录">LeetCode SQL刷题记录</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/spider/%E7%88%AC%E5%8F%96%E6%9F%90%E8%91%97%E5%90%8D%E5%BF%AB%E9%A4%90%E5%B7%A8%E5%A4%B4%E9%97%A8%E5%BA%97%E6%95%B0%E6%8D%AE%E5%AE%9E%E6%88%98/" title="爬取某著名快餐巨头门店数据实战">爬取某著名快餐巨头门店数据实战</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/spider/Aiohttp&#43;PyMongo%E5%BC%82%E6%AD%A5%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%88%98/" title="Aiohttp&#43;PyMongo异步案例实战">Aiohttp&#43;PyMongo异步案例实战</a>
    </li>
    
    <li>
        <a href="https://hank-leo.github.io/post/spider/PyMongo&#43;PyQuery%E6%A1%88%E4%BE%8B%E5%AE%9E%E6%88%98/" title="PyMongo&#43;PyQuery案例实战">PyMongo&#43;PyQuery案例实战</a>
    </li>
    
</ul>
    </section>

    

    <section class="widget">
        <h3 class="widget-title"><a href="/categories">分类</a></h3>
<ul class="widget-list">
    
    <li><a href="https://hank-leo.github.io/categories/Go%E5%AD%A6%E4%B9%A0/">Go学习 (1)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/Python%E5%AD%A6%E4%B9%A0/">Python学习 (7)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/Python%E5%AE%9E%E6%88%98/">Python实战 (2)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/Scrapy%E6%A1%86%E6%9E%B6%E5%AD%A6%E4%B9%A0/">Scrapy框架学习 (11)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E5%8D%9A%E5%AE%A2%E6%90%AD%E5%BB%BA/">博客搭建 (3)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AD%A6%E4%B9%A0/">数据分析学习 (3)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E5%AE%9E%E6%88%98/">数据分析实战 (3)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E6%95%B0%E6%8D%AE%E5%88%86%E6%9E%90%E6%8A%A5%E5%91%8A/">数据分析报告 (1)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E6%95%B0%E6%8D%AE%E5%8F%AF%E8%A7%86%E5%8C%96/">数据可视化 (3)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%AD%A6%E4%B9%A0/">数据库学习 (6)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E6%95%B0%E6%8D%AE%E6%80%9D%E7%BB%B4/">数据思维 (1)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E7%88%AC%E8%99%AB%E5%AD%A6%E4%B9%A0/">爬虫学习 (4)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98/">爬虫实战 (4)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E7%88%AC%E8%99%AB%E5%AE%9E%E6%88%98%E5%AE%9E%E6%88%98/">爬虫实战实战 (1)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E7%BB%9F%E8%AE%A1%E5%AD%A6/">统计学 (2)</a></li>
    
    <li><a href="https://hank-leo.github.io/categories/%E9%9D%A2%E8%AF%95%E9%A2%98/">面试题 (2)</a></li>
    
</ul>
    </section>

    <section class="widget">
        <h3 class="widget-title"><a href="/tags">标签</a></h3>
<div class="tagcloud">
    
    <a href="https://hank-leo.github.io/tags/MongoDB/">MongoDB</a>
    
    <a href="https://hank-leo.github.io/tags/MySQL/">MySQL</a>
    
    <a href="https://hank-leo.github.io/tags/Python%E9%9D%A2%E8%AF%95/">Python面试</a>
    
    <a href="https://hank-leo.github.io/tags/Scrapy/">Scrapy</a>
    
    <a href="https://hank-leo.github.io/tags/aiohttp/">aiohttp</a>
    
    <a href="https://hank-leo.github.io/tags/airtest/">airtest</a>
    
    <a href="https://hank-leo.github.io/tags/app/">app</a>
    
    <a href="https://hank-leo.github.io/tags/dict/">dict</a>
    
    <a href="https://hank-leo.github.io/tags/docker/">docker</a>
    
    <a href="https://hank-leo.github.io/tags/excel/">excel</a>
    
    <a href="https://hank-leo.github.io/tags/hexo/">hexo</a>
    
    <a href="https://hank-leo.github.io/tags/hugo/">hugo</a>
    
    <a href="https://hank-leo.github.io/tags/list/">list</a>
    
    <a href="https://hank-leo.github.io/tags/numpy/">numpy</a>
    
    <a href="https://hank-leo.github.io/tags/pandas/">pandas</a>
    
    <a href="https://hank-leo.github.io/tags/pyecharts/">pyecharts</a>
    
    <a href="https://hank-leo.github.io/tags/pymongo/">pymongo</a>
    
    <a href="https://hank-leo.github.io/tags/pyqt5/">pyqt5</a>
    
    <a href="https://hank-leo.github.io/tags/re/">re</a>
    
    <a href="https://hank-leo.github.io/tags/regex/">regex</a>
    
    <a href="https://hank-leo.github.io/tags/requests/">requests</a>
    
    <a href="https://hank-leo.github.io/tags/string/">string</a>
    
    <a href="https://hank-leo.github.io/tags/superset/">superset</a>
    
    <a href="https://hank-leo.github.io/tags/tableau/">tableau</a>
    
    <a href="https://hank-leo.github.io/tags/tkinter/">tkinter</a>
    
    <a href="https://hank-leo.github.io/tags/xlwings/">xlwings</a>
    
    <a href="https://hank-leo.github.io/tags/xpath/">xpath</a>
    
    <a href="https://hank-leo.github.io/tags/%E5%BC%82%E6%AD%A5/">异步</a>
    
    <a href="https://hank-leo.github.io/tags/%E6%95%B0%E6%8D%AE%E6%B8%85%E6%B4%97/">数据清洗</a>
    
    <a href="https://hank-leo.github.io/tags/%E7%88%AC%E8%99%AB%E9%9D%A2%E8%AF%95/">爬虫面试</a>
    
</div>
    </section>

    
<section class="widget">
    <h3 class="widget-title">友情链接</h3>
    <ul class="widget-list">
        
        <li>
            <a target="_blank" href="http://cnblogs.hankleo.com" title="博客园">博客园</a>
        </li>
        
        <li>
            <a target="_blank" href="https://github.com/hank-leo" title="Github">Github</a>
        </li>
        
        <li>
            <a target="_blank" href="https://juejin.im/user/1257497033980263" title="掘金">掘金</a>
        </li>
        
        <li>
            <a target="_blank" href="https://gitbook.cn/gitchat/author/5b140311cfed0223b4277e19" title="GitChat">GitChat</a>
        </li>
        
        <li>
            <a target="_blank" href="https://blog.csdn.net/weixin_42247053" title="CSDN">CSDN</a>
        </li>
        
        <li>
            <a target="_blank" href="https://www.v2ex.com/member/hankleo" title="V2EX">V2EX</a>
        </li>
        
        <li>
            <a target="_blank" href="https://segmentfault.com/u/hankleo" title="Segmentfault">Segmentfault</a>
        </li>
        
        <li>
            <a target="_blank" href="https://gitee.com/hank_leo" title="Gitee">Gitee</a>
        </li>
        
        <li>
            <a target="_blank" href="https://www.infoq.cn/profile/584F08177BF384/following/user" title="InfoQ">InfoQ</a>
        </li>
        
    </ul>
</section>


    <section class="widget">
        <h3 class="widget-title">其它</h3>
        <ul class="widget-list">
            <li><a href="https://hank-leo.github.io/index.xml">文章 RSS</a></li>
        </ul>
    </section>
</div>
            </div>
        </div>
    </div>
</body>

</html>